# ============================================================================
# Configuration File for Gaze Tracking Application
# ============================================================================
# This file controls the behavior of the application, including simulation
# modes, hardware connections, and model settings.
# 
# Note: Values in this file can be overridden by top-level constants in
# main.py if needed for development purposes.

# ----------------------------------------------------------------------------
# GPIO Configuration
# ----------------------------------------------------------------------------

# gpio_btn_marker_sim: Enable keyboard shortcut for marker button
#   - true:  Enable "N" keyboard shortcut to toggle markers (START/END tasks)
#            and show hint in HUD overlay
#   - false: Disable keyboard shortcut for markers
#   Default: true
gpio_btn_marker_sim: true

# gpio_btn_marker_enable: Enable hardware button for markers
#   - true:  Enable physical GPIO button for toggling markers
#            Works independently from gpio_btn_marker_sim
#   - false: Disable hardware button for markers
#   Default: false
gpio_btn_marker_enable: true

# gpio_btn_marker_pin: GPIO pin for marker button
#   - GPIO line number for the marker toggle button
#   - LattePanda Iota: GP0 = line 0
#   - Connect button between this pin and GND (internal pull-up enabled)
#   - Only used when gpio_btn_marker_enable is true
#   Default: 0 (GP0)
gpio_btn_marker_pin: 0

# gpio_btn_marker_debounce: Marker button debounce time
#   - Minimum time between button presses to prevent accidental double-presses
#   - Value in seconds (e.g., 0.2 = 200ms)
#   - Only used when gpio_btn_marker_enable is true
#   Default: 0.2
gpio_btn_marker_debounce: 0.2

# gpio_led_calibration_display: Enable on-screen LED display for calibration
#   - true:  Show on-screen LED indicators during calibration sequence
#            Displays visual LED circles at calibration points
#   - false: Hide on-screen LED indicators
#   Default: true
gpio_led_calibration_display: true

# gpio_led_calibration_keyboard: Enable keyboard shortcuts for calibration
#   - true:  Enable keyboard shortcuts: Z (start calibration), 
#            X (start collection), B (stop collection)
#   - false: Disable keyboard shortcuts for calibration
#   Default: true
gpio_led_calibration_keyboard: true

# gp_calibration_method: Calibration method to use
#   - "LED":     Use custom LED-based calibration (collects gaze samples at 4 LED points
#                and computes affine transform). Works with both simulation and real hardware.
#                This method does not require the Gazepoint Control overlay.
#   - "OVERLAY": Use Gazepoint Control's built-in overlay calibration window.
#                Requires Gazepoint Control software to be running.
#                Only works with real hardware (not in simulation mode).
#   - "BOTH":    Use both LED-based and overlay calibration simultaneously.
#                Both methods will run in parallel during calibration.
#   Default: "LED"
gp_calibration_method: LED

# gpio_led_calibration_enable: Enable hardware LEDs for calibration
#   - true:  Control physical GPIO LEDs during calibration sequence
#            LEDs are wired: LED+ to GPIO pin (GP1-GP4), LED- through resistor to GND
#            Only used when gp_calibration_method is "LED" or "BOTH"
#   - false: Disable hardware LED control
#   Default: true
gpio_led_calibration_enable: true

# gpio_led_calibration_led1_pin: GPIO pin for calibration LED 1
#   - GPIO line number for first calibration point LED
#   - LattePanda Iota: GP1 = line 1
#   - Only used when gpio_led_calibration_enable is true
#   Default: 1 (GP1)
gpio_led_calibration_led1_pin: 1

# gpio_led_calibration_led2_pin: GPIO pin for calibration LED 2
#   - GPIO line number for second calibration point LED
#   - LattePanda Iota: GP2 = line 2
#   - Only used when gpio_led_calibration_enable is true
#   Default: 2 (GP2)
gpio_led_calibration_led2_pin: 2

# gpio_led_calibration_led3_pin: GPIO pin for calibration LED 3
#   - GPIO line number for third calibration point LED
#   - LattePanda Iota: GP3 = line 3
#   - Only used when gpio_led_calibration_enable is true
#   Default: 3 (GP3)
gpio_led_calibration_led3_pin: 3

# gpio_led_calibration_led4_pin: GPIO pin for calibration LED 4
#   - GPIO line number for fourth calibration point LED
#   - LattePanda Iota: GP4 = line 4
#   - Only used when gpio_led_calibration_enable is true
#   Default: 4 (GP4)
gpio_led_calibration_led4_pin: 4

# ----------------------------------------------------------------------------
# Simulation Modes
# ----------------------------------------------------------------------------

# sim_gaze: Enable Gazepoint eye tracker simulation
#   - true:  Simulate Gazepoint connection and gaze data using keyboard
#            controls (1=connect, 2=disconnect, 3=toggle stream) and synthetic
#            gaze samples. Gaze data follows a Lissajous-like pattern.
#   - false: Connect to real Gazepoint hardware via TCP/IP (requires Gazepoint
#            tracker running on gp_host:gp_port). The app will automatically
#            detect and connect to Gazepoint hardware, retrying every 1 second
#            until a connection is established. If the connection is lost, it
#            will automatically attempt to reconnect.
#   Default: true
sim_gaze: false

# developpement_xg_boost: Enable XGBoost model result simulation
#   - true:  Generate fake/deterministic XGBoost predictions instead of running
#            real model inference. Useful for testing UI and workflow without
#            requiring trained models.
#   - false: Load and use real XGBoost model from model_path for predictions
#   Default: false
developpement_xg_boost: false

# dev_show_keys: Show on-screen keyboard overlay
#   - true:  Display a cheat sheet overlay at the bottom of the screen showing
#            all available keyboard shortcuts and recently pressed keys.
#            Helpful during development to remember controls.
#            Available shortcuts:
#            - GPIO simulation (when sim_gpio=true): Z, X, N, B, M, R
#            - Gazepoint simulation (when sim_gaze=true): 1, 2, 3, 4, 5
#            - Universal: R (reset app state - clears calibration, collection,
#              events, and analysis results, returns to READY state)
#   - false: Hide the keyboard overlay for cleaner UI
#   Default: true
dev_show_keys: true

# fullscreen: Run application in fullscreen mode
#   - true:  Run in fullscreen mode (recommended for production use)
#            The app window is always frameless (no title bar or borders)
#   - false: Run in windowed mode (frameless window at 480x800 resolution)
#            Useful for development and testing
#   Default: false
fullscreen: false

# ----------------------------------------------------------------------------
# Gazepoint Eye Tracker Settings
# ----------------------------------------------------------------------------

# gp_host: Gazepoint tracker TCP/IP host address
#   - IP address or hostname where Gazepoint Control software is running
#   - Use "127.0.0.1" for localhost (same machine)
#   - Only used when sim_gaze is false
#   Default: "127.0.0.1"
gp_host: 127.0.0.1

# gp_port: Gazepoint tracker TCP/IP port
#   - Port number for Gazepoint Open API communication
#   - Standard Gazepoint port is 4242
#   - Only used when sim_gaze is false
#   Default: 4242
gp_port: 4242

# calibration_ok_threshold: Maximum average error for OK calibration quality
#   - Calibration average error threshold in degrees (or units used by Gazepoint)
#   - If average_error < this value, calibration is considered "OK" (green status)
#   - Lower values mean stricter quality requirements
#   - Only used when sim_gaze is false (OpenGaze API v2 calibration)
#   Default: 1.0
calibration_ok_threshold: 1.0

# calibration_low_threshold: Maximum average error for low quality calibration
#   - Calibration average error threshold in degrees (or units used by Gazepoint)
#   - If average_error >= calibration_ok_threshold but < this value, calibration
#     is considered "low quality" (orange status)
#   - If average_error >= this value, calibration is considered "failed" (red status)
#   - Only used when sim_gaze is false (OpenGaze API v2 calibration)
#   Default: 2.0
calibration_low_threshold: 2.0

# ----------------------------------------------------------------------------
# Hardware GPIO Shared Settings
# ----------------------------------------------------------------------------

# gpio_chip: GPIO chip device path for LattePanda
#   - Device path for GPIO chip (Linux only)
#   - LattePanda Iota typically uses /dev/gpiochip0
#   - Used by both marker button and calibration LEDs when hardware GPIO is enabled
#   Default: "/dev/gpiochip0"
gpio_chip: "/dev/gpiochip0"

# ----------------------------------------------------------------------------
# Machine Learning Model Settings
# ----------------------------------------------------------------------------

# model_path: Path to XGBoost model file
#   - Relative or absolute path to the trained XGBoost model
#   - Model should be saved using joblib (MultiOutputRegressor format)
#   - Model outputs a vector: [global_score, T1, T2, ..., T10]
#   - Only used when developpement_xg_boost is false
#   - If path is relative, it's resolved from the application's working directory
#   Default: "models/model.xgb"
model_path: models/model.xgb

# feature_window_ms: Time window for feature extraction (milliseconds)
#   - Duration of gaze sample history to use when extracting features for
#     XGBoost model inference
#   - Longer windows provide more stable features but may miss recent changes
#   - Shorter windows are more responsive but may be noisier
#   - Used in sliding window statistics calculation (mean, variance, etc.)
#   - Value in milliseconds (e.g., 1500 = 1.5 seconds)
#   Default: 1500
feature_window_ms: 1500

